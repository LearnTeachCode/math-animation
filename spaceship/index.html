<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />

  <title>Space ship pull to refersh</title>

  <style>

    body {
      margin: 0;
      background: rgb(92, 96, 129);
    }

    header {
      background: rgb(169, 206, 203);
      min-height: 4.5em;
      position: relative;
      z-index: 1;
    }
    header h1 {
      margin: 0;
      text-indent: -9999px;
      overflow: hidden;
    }

    .refresh {
      background: rgb(71, 79, 105);
      max-width: 22em;
      margin-left: auto;
      margin-right: auto;
      padding: 1.5em;
      text-align: center;
    }
    .refresh svg {
      display: block;
      margin-left: auto;
      margin-right: auto;
      height: 5em; /* 80px / 16px */
      width: 3.25em; /* 52px / 16px */
    }

    .animated .refresh {
      transition: margin-top 0.4s;
    }
    .animated .refresh svg {
      transition: all 1s ease-in;
    }
    .inactive .refresh {
      margin-top: -8em; /* ship height + padding top + padding bottom */
    }
    .lift-off .refresh svg {
      transform: translateY(-200%);
    }

    .bubble {
      background: rgb(69, 111, 168);
      border-radius: 50%;
      width: 1.5em;
      height: 1.5em;
      display: inline-block;
      display: none;
    }

    ul,
    li {
      list-style: none;
      margin-left: 0;
      padding-left: 0;
    }

    ul {
      margin-top: 0;
      background: white;
      max-width: 22em;
      margin-left: auto;
      margin-right: auto;
      padding: 1.5em;
    }

    li {
      margin-top: 3em;
      position: relative;
    }
    li h2,
    li p {
      background: rgb(220, 235, 234);
      text-indent: -9999px;
      overflow: hidden;
    }
    li h2 {
      margin-bottom: 0;
      border-top-left-radius: 0.25em;
      border-top-right-radius: 0.25em;
      min-height: 3em;
      font-size: inherit;
    }
    li p {
      margin-top: 0.375em;
      border-bottom-left-radius: 0.25em;
      border-bottom-right-radius: 0.25em;
      min-height: 9em;
    }
    li .image {
      background: rgb(169, 206, 203);
      border-radius: 50%;
      width: 3em;
      height: 3em;
      position: absolute;
      top: -1.5em;
      left: 50%;
      margin-left: -1.5em;
    }

  </style>

</head>
<body>

  <header>
    <h1>Messages</h1>
  </header>

  <div class="refresh">
    <svg xmlns="http://www.w3.org/2000/svg" width="52" height="80" viewBox="0 0 17.3 26.6">
      <!--
        Created by Guilherme Simoes
        from the Noun Project
        https://thenounproject.com/search/?q=space+ship&i=243332
      -->
      <style type="text/css">
        .ship-outline {
          fill: rgba(0, 0, 0, 0.25);
        }
        .ship-panels {
          fill: rgb(169, 206, 203);
        }
        .ship-fins {
          fill: rgb(224, 71, 71);
        }
        .ship-window {
          fill: rgb(220, 235, 234);
        }
      </style>
      <path class="ship-outline" fill="black" d="M17.3,24.6c0,0.2-0.1,0.5-0.2,0.6c-0.1,0.1-0.2,0.1-0.3,0.2c-0.3,0.1-0.7,0.1-1-0.2
        c-0.9-0.9-2.3-2.1-3.2-2.5c-0.7,0.4-1.5,0.7-2.5,0.9l0,1.8c0,0.3-0.1,0.6-0.4,0.9c-0.2,0.2-0.6,0.4-0.9,0.4H8.5
        c-0.3,0-0.7-0.1-0.9-0.4c-0.2-0.2-0.4-0.6-0.4-0.9v-1.8c-1-0.1-1.9-0.5-2.5-0.9c-0.9,0.4-2.3,1.6-3.3,2.5c-0.3,0.2-0.6,0.3-1,0.2
        C0.2,25.2,0,24.9,0,24.5c0.3-4.5,2.3-7,3-7.7c-0.2-1-0.3-2.2-0.3-3.3C2.4,7.2,4.4,2.6,8.5,0.1L8.7,0L9,0.2c4,2.4,6,7.1,5.7,13.4
        c-0.1,1.2-0.2,2.3-0.4,3.3C15,17.6,17,20.1,17.3,24.6z M16.3,24.3c-0.2-3.1-1.4-5.1-2.2-6.1c-0.3,1.7-0.7,3.1-1,3.7
        C14.2,22.4,15.4,23.5,16.3,24.3z M12.7,19.7c0.9-3.5,2-10.3-0.8-15.2C10.9,4.8,9.8,5,8.7,5C7.6,5,6.5,4.8,5.5,4.5
        C2.7,9.3,3.7,16,4.6,19.5c0.7,0.3,1.7,0.6,2.7,0.7l0-2.5c0-0.7,0.6-1.2,1.3-1.2h0.3c0.3,0,0.7,0.1,0.9,0.4
        c0.2,0.2,0.4,0.5,0.4,0.9l0,2.5C11,20.2,11.8,19.9,12.7,19.7L12.7,19.7z M12.1,21.8c0.1-0.2,0.2-0.6,0.3-1.1
        c-0.8,0.2-1.6,0.4-2.4,0.5v1.3C10.9,22.4,11.6,22.2,12.1,21.8z M8.7,4c0.9,0,1.8-0.1,2.6-0.3c-0.7-1-1.6-1.8-2.6-2.5
        C7.6,1.9,6.8,2.7,6.1,3.6C6.9,3.9,7.8,4,8.7,4z M9,25.3l0-7.6c0-0.1-0.1-0.2-0.2-0.2H8.5c-0.1,0-0.1,0-0.2,0.1
        c-0.1,0.1-0.1,0.1-0.1,0.2l0,7.6c0,0.1,0.1,0.2,0.2,0.2h0.3C8.9,25.6,9,25.5,9,25.3z M7.3,22.6l0-1.3c-0.8-0.1-1.7-0.3-2.4-0.5
        c0.1,0.5,0.3,0.9,0.3,1.1C5.7,22.2,6.4,22.4,7.3,22.6z M4.2,21.9c-0.2-0.7-0.6-2-0.9-3.7c-0.8,1-1.9,3-2.2,6.1
        C1.9,23.4,3.1,22.4,4.2,21.9z"/>
      <path class="ship-outline" fill="black" d="M11.3,7.3c0.7,0.7,1.1,1.6,1,2.5c0,1-0.4,1.9-1.1,2.5c-0.7,0.7-1.6,1.1-2.5,1c-1,0-1.9-0.4-2.5-1.1
        s-1.1-1.6-1-2.5c0-1.9,1.7-3.6,3.6-3.6C9.7,6.2,10.6,6.6,11.3,7.3z M11.3,9.8c0-0.7-0.3-1.3-0.8-1.8c-0.5-0.5-1.1-0.8-1.8-0.8
        C8,7.2,7.4,7.5,6.9,8S6.1,9.1,6.1,9.8c0,0.7,0.3,1.4,0.8,1.8s1.1,0.8,1.8,0.8C10.1,12.4,11.3,11.2,11.3,9.8z"/>

      <path class="ship-panels" fill="#ccc" d="M12.4,20.8c-0.1,0.5-0.3,0.9-0.3,1.1c-0.5,0.4-1.2,0.6-2.1,0.7v-1.3C10.9,21.2,11.7,21,12.4,20.8z"/>
      <path class="ship-panels" fill="#ccc" d="M7.3,21.2l0,1.3c-0.8-0.1-1.5-0.4-2-0.8c-0.1-0.2-0.2-0.6-0.3-1.1C5.6,20.9,6.4,21.1,7.3,21.2z"/>
      <path class="ship-panels" fill="#ccc" d="M11.9,4.5c2.8,4.8,1.7,11.7,0.8,15.2l0-0.1c-0.8,0.3-1.7,0.5-2.6,0.6l0-2.5c0-0.3-0.1-0.6-0.4-0.9
        c-0.2-0.2-0.5-0.4-0.9-0.4H8.5c-0.7,0-1.2,0.6-1.3,1.2l0,2.5c-1-0.1-2-0.4-2.7-0.7C3.7,16,2.7,9.3,5.5,4.5C6.5,4.8,7.6,5,8.7,5
        C9.8,5,10.9,4.8,11.9,4.5z M12.3,9.8c0-0.9-0.4-1.9-1-2.5S9.7,6.2,8.7,6.2c-1.9,0-3.6,1.7-3.6,3.6c0,1,0.4,1.9,1,2.5
        s1.6,1.1,2.5,1.1c1,0,1.9-0.4,2.5-1C11.9,11.7,12.3,10.8,12.3,9.8z"/>
      <path class="ship-panels" fill="#ccc" d="M11.4,3.7C10.5,3.9,9.6,4,8.7,4C7.8,4,6.9,3.9,6.1,3.6c0.7-0.9,1.6-1.8,2.6-2.5C9.8,1.9,10.7,2.7,11.4,3.7z"
        />

      <path class="ship-fins" fill="#333" d="M9.1,17.7l0,7.6c0,0.1-0.1,0.2-0.2,0.2H8.5c-0.1,0-0.2-0.1-0.2-0.2l0-7.6c0-0.1,0-0.1,0.1-0.2
        c0,0,0.1-0.1,0.2-0.1h0.3C9,17.5,9.1,17.6,9.1,17.7z"/>
      <path class="ship-fins" fill="#333" d="M3.2,18.1c0.3,1.7,0.7,3.1,0.9,3.7c-1,0.5-2.3,1.6-3.2,2.4C1.3,21.1,2.5,19.1,3.2,18.1z"/>
      <path class="ship-fins" fill="#333" d="M14.1,18.2c0.8,1,1.9,3,2.2,6.1c-0.8-0.8-2.1-1.8-3.1-2.4C13.4,21.2,13.8,19.9,14.1,18.2z"/>
      <path class="ship-window" fill="white" d="M10.5,8c0.5,0.5,0.8,1.1,0.8,1.8c0,1.4-1.2,2.6-2.6,2.6c-0.7,0-1.3-0.3-1.8-0.8s-0.8-1.1-0.8-1.8
        c0-0.7,0.3-1.3,0.8-1.8S8,7.2,8.7,7.2C9.4,7.2,10.1,7.5,10.5,8z"/>
    </svg>

    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>

    <!--
    <script type="text/template" id="refresh-status-template">
      <p role="status">Refreshing…</p>
    </script>

    <button type="button">Refresh</button>
    -->
  </div>

<!-- BEZIER CURVE test, CREDIT: https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths --> 

<svg width="190" height="160" xmlns="http://www.w3.org/2000/svg">

  <style type="text/css">
        #bridgeshape {
          fill: rgb(71, 79, 105);          
        }        
  </style>

  <path id="bridgeshape" d="M 10 80 V 10 H 180 V 80 M180 80 Q 95 10 10 80" />
</svg>

<!-- END   BEZIER CURVE test --> 
  <ul>
    <li>
      <div class="image"></div>
      <h2>Lorem ipsum dolor sit amet</h2>
      <p>Consectetur adipisicing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua.</p>
    </li>
    <li>
      <div class="image"></div>
      <h2>Ut enim ad minim veniam</h2>
      <p>Quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
      consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
      cillum dolore eu fugiat nulla pariatur.</p>
    </li>
    <li>
      <div class="image"></div>
      <h2>Excepteur sint occaecat cupidatat non</h2>
      <p>Proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </li>
    <li>
      <div class="image"></div>
      <h2>Lorem ipsum dolor sit amet</h2>
      <p>Consectetur adipisicing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua.</p>
    </li>
    <li>
      <div class="image"></div>
      <h2>Ut enim ad minim veniam</h2>
      <p>Quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
      consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
      cillum dolore eu fugiat nulla pariatur.</p>
    </li>
    <li>
      <div class="image"></div>
      <h2>Excepteur sint occaecat cupidatat non</h2>
      <p>Proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </li>
  </ul>

  <script>
  
  var refresh = document.querySelector('.refresh');
  document.body.className += ' inactive';
  setTimeout(function() {
    document.body.className += ' animated';
  }, 1);

  document.body.addEventListener('click', function() {
    document.body.className = document.body.className.replace(/inactive/g, '');
    setTimeout(function() {
      document.body.className += ' lift-off';
      setTimeout(function() {
        document.body.className += ' inactive';
        document.body.className = document.body.className.replace(/lift-off/g, '');
      }, 1000);
    }, 1000);
  }, false);

  </script>

  <script>


    // http://upshots.org/actionscript/jsas-understanding-easing
    /*
    @t is the current time (or position) of the tween. This can be seconds or frames, steps, seconds, ms, whatever – as long as the unit is the same as is used for the total time [3].
    @b is the beginning value of the property.
    @c is the change between the beginning and destination value of the property.
    @d is the total time of the tween.
    */
    function noEasing (t, b, c, d) {
      return c * (t / d) + b;
    }

    // http://gsgd.co.uk/sandbox/jquery/easing/
    function easeOutElastic (x, t, b, c, d) {
      var s=1.70158;var p=0;var a=c;
      if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;
      if (a < Math.abs(c)) { a=c; var s=p/4; }
      else var s = p/(2*Math.PI) * Math.asin (c/a);
      return a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;
    }

    var beginning = null;

    function step(timestamp) {
      if (!beginning) beginning = timestamp;

      var propertyStart = 0;
      var propertyDestination = 90;
      var progress = timestamp - beginning;
      var duration = 2000;

      var nextValue = Math.floor(noEasing(progress, propertyStart, propertyDestination - propertyStart, duration));

      console.log('--------------');
      console.log('beginning: ' + beginning);
      console.log('timestamp: ' + timestamp);
      console.log('progress: ' + progress);
      console.log('nextValue: ' + nextValue);

      // setattribute

      if (progress < duration) {
        requestAnimationFrame(step);
      }
    }
    requestAnimationFrame(step);


    /*
    var start = null;
    var element = document.getElementById("SomeElementYouWantToAnimate");
    element.style.position = 'absolute';

    function step(timestamp) {
      if (!start) start = timestamp;
      var progress = timestamp - start;
      element.style.left = Math.min(progress/10, 200) + "px";
      if (progress < 2000) {
        window.requestAnimationFrame(step);
      }
    }

    window.requestAnimationFrame(step);
    */


  </script>

</body>
</html>
